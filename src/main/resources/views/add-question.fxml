<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane style="-fx-background-color: #1e1e2e;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.buet.edutrack.controllers.AddQuestionController">

    <!-- Top Bar -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: #0f3460;">
            <padding>
                <Insets bottom="20" left="30" right="30" top="20" />
            </padding>
            <Button onAction="#handleBack" style="-fx-background-color: #475fa6; -fx-text-fill: white; -fx-font-size: 16px; -fx-cursor: hand;" text="â† Back" textFill="WHITE" />
            <Label style="-fx-font-size: 24px; -fx-text-fill: white; -fx-font-weight: bold;" text="Add New Question" />
        </HBox>
    </top>

    <!-- Form -->
    <center>
        <ScrollPane fitToWidth="true" style="-fx-background: #1e1e2e; -fx-background-color: #1e1e2e;">
            <VBox spacing="25" style="-fx-background-color: #1e1e2e;">
                <padding>
                    <Insets bottom="40" left="60" right="60" top="40" />
                </padding>

                <!-- Subject Selection -->
                <VBox spacing="8">
                    <Label style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;" text="Subject *" />
                    <ComboBox fx:id="subjectCombo" prefWidth="400" promptText="Select Subject" style="-fx-background-color: #8b8bcf; -fx-text-fill: white;" />
                </VBox>

                <!-- Difficulty Level -->
                <VBox spacing="8">
                    <Label style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;" text="Difficulty Level *" textFill="WHITE" />
                    <ComboBox fx:id="difficultyCombo" prefWidth="400" promptText="Select Difficulty" style="-fx-background-color: #8b8bcf; -fx-text-fill: white;" />
                </VBox>

                <!-- Question Text -->
                <VBox spacing="8">
                    <Label style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;" text="Question Text *" />
                    <TextArea fx:id="questionTextArea" prefRowCount="3" promptText="Enter your question here..." style="-fx-control-inner-background: #2b2b3c; -fx-text-fill: white; -fx-prompt-text-fill: #888;" wrapText="true" />
                </VBox>

                <!-- Options -->
                <VBox spacing="15">
                    <Label style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;" text="Answer Options *" />

                    <!-- Option A -->
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label prefWidth="30" style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="A." />
                        <TextField fx:id="optionAField" promptText="Option A" style="-fx-background-color: #2b2b3c; -fx-text-fill: white; -fx-prompt-text-fill: #888;" HBox.hgrow="ALWAYS" />
                    </HBox>

                    <!-- Option B -->
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label prefWidth="30" style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="B." />
                        <TextField fx:id="optionBField" promptText="Option B" style="-fx-background-color: #2b2b3c; -fx-text-fill: white; -fx-prompt-text-fill: #888;" HBox.hgrow="ALWAYS" />
                    </HBox>

                    <!-- Option C -->
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label prefWidth="30" style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="C." />
                        <TextField fx:id="optionCField" promptText="Option C" style="-fx-background-color: #2b2b3c; -fx-text-fill: white; -fx-prompt-text-fill: #888;" HBox.hgrow="ALWAYS" />
                    </HBox>

                    <!-- Option D -->
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label prefWidth="30" style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="D." />
                        <TextField fx:id="optionDField" promptText="Option D" style="-fx-background-color: #2b2b3c; -fx-text-fill: white; -fx-prompt-text-fill: #888;" HBox.hgrow="ALWAYS" />
                    </HBox>
                </VBox>

                <!-- Correct Answer -->
                <VBox spacing="8">
                    <Label style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;" text="Correct Answer *" />
                    <ComboBox fx:id="correctAnswerCombo" prefWidth="400" promptText="Select Correct Answer" style="-fx-background-color: #8b8bcf; -fx-text-fill: white;" />
                </VBox>

                <!-- Explanation -->
                <VBox spacing="8">
                    <Label style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;" text="Explanation *" />
                    <Label style="-fx-text-fill: #bfbaba; -fx-font-size: 12px;" text="This will be shown to students after they submit the exam" textFill="#bfbaba" />
                    <TextArea fx:id="explanationArea" prefRowCount="4" promptText="Explain why this is the correct answer..." style="-fx-control-inner-background: #2b2b3c; -fx-text-fill: white; -fx-prompt-text-fill: #888;" wrapText="true" />
                </VBox>

                <!-- Error Label -->
                <Label fx:id="errorLabel" style="-fx-text-fill: #ff6b6b; -fx-font-size: 13px; -fx-font-weight: bold;" visible="false" wrapText="true" />

                <!-- Buttons -->
                <HBox alignment="CENTER" spacing="15">
                    <Button onAction="#handleSave" prefWidth="150" style="-fx-background-color: #6c63ff; -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 12 25; -fx-background-radius: 8; -fx-font-weight: bold; -fx-cursor: hand;" text="Save Question" />
                    <Button onAction="#handleClear" prefWidth="150" style="-fx-background-color: #e94560; -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 12 25; -fx-background-radius: 8; -fx-font-weight: bold; -fx-cursor: hand;" text="Clear Form" />
                </HBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
